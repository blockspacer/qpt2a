<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Class template basic_core</title>
<link rel="stylesheet" href="../../../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="../../index.html" title="Chapter&#160;1.&#160;Boost.Log">
<link rel="up" href="../../core_components.html#header.boost.log.core.core_hpp" title="Header &lt;boost/log/core/core.hpp&gt;">
<link rel="prev" href="../../core_components.html" title="Core components">
<link rel="next" href="../../BOOST_LOG_CORE_CORE_HPP_INCLUDED_.html" title="Macro BOOST_LOG_CORE_CORE_HPP_INCLUDED_">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../boost.png"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../../core_components.html"><img src="../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../core_components.html#header.boost.log.core.core_hpp"><img src="../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="../../BOOST_LOG_CORE_CORE_HPP_INCLUDED_.html"><img src="../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="refentry" lang="en">
<a name="boost.log.basic_core"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">Class template basic_core</span></h2>
<p>boost::log::basic_core &#8212; Logging library core class. </p>
</div>
<h2 xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv-title">Synopsis</h2>
<div xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv"><pre class="synopsis"><span class="comment">// In header: &lt;<a href="../../core_components.html#header.boost.log.core.core_hpp" title="Header &lt;boost/log/core/core.hpp&gt;">boost/log/core/core.hpp</a>&gt;

</span><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> CharT<span class="special">&gt;</span> 
<span class="keyword">class</span> <a href="basic_core.html" title="Class template basic_core">basic_core</a> <span class="special">{</span>
<span class="keyword">public</span><span class="special">:</span>
  <span class="comment">// types</span>
  <span class="keyword">typedef</span> <span class="identifier">CharT</span>                                       <a name="boost.log.basic_core.char_type"></a><span class="identifier">char_type</span><span class="special">;</span>               <span class="comment">// Character type. </span>
  <span class="keyword">typedef</span> <a href="basic_record.html" title="Class template basic_record">basic_record</a><span class="special">&lt;</span> <span class="identifier">char_type</span> <span class="special">&gt;</span>                   <a name="boost.log.basic_core.record_type"></a><span class="identifier">record_type</span><span class="special">;</span>             <span class="comment">// Log record type. </span>
  <span class="keyword">typedef</span> <span class="identifier">record_type</span><span class="special">::</span><span class="identifier">string_type</span>                    <a name="boost.log.basic_core.string_type"></a><span class="identifier">string_type</span><span class="special">;</span>             <span class="comment">// String type to be used as a message text holder. </span>
  <span class="keyword">typedef</span> <span class="identifier">basic_attribute_set</span><span class="special">&lt;</span> <span class="identifier">char_type</span> <span class="special">&gt;</span>            <a name="boost.log.basic_core.attribute_set_type"></a><span class="identifier">attribute_set_type</span><span class="special">;</span>      <span class="comment">// Attribute set type. </span>
  <span class="keyword">typedef</span> <span class="identifier">record_type</span><span class="special">::</span><span class="identifier">values_view_type</span>               <a name="boost.log.basic_core.values_view_type"></a><span class="identifier">values_view_type</span><span class="special">;</span>        <span class="comment">// Attribute values view type. </span>
  <span class="keyword">typedef</span> <span class="identifier">sinks</span><span class="special">::</span><span class="identifier">sink</span><span class="special">&lt;</span> <span class="identifier">char_type</span> <span class="special">&gt;</span>                    <a name="boost.log.basic_core.sink_type"></a><span class="identifier">sink_type</span><span class="special">;</span>               <span class="comment">// Sink interface type. </span>
  <span class="keyword">typedef</span> <span class="identifier">function1</span><span class="special">&lt;</span> <span class="keyword">bool</span><span class="special">,</span> <span class="identifier">values_view_type</span> <span class="keyword">const</span> <span class="special">&amp;</span> <span class="special">&gt;</span> <a name="boost.log.basic_core.filter_type"></a><span class="identifier">filter_type</span><span class="special">;</span>             <span class="comment">// Filter function type. </span>
  <span class="keyword">typedef</span> <span class="identifier">function0</span><span class="special">&lt;</span> <span class="keyword">void</span> <span class="special">&gt;</span>                           <a name="boost.log.basic_core.exception_handler_type"></a><span class="identifier">exception_handler_type</span><span class="special">;</span>  <span class="comment">// Exception handler function type. </span>

  <span class="comment">// <a href="basic_core.html#boost.log.basic_coreconstruct-copy-destruct">construct/copy/destruct</a></span>
  <a href="basic_core.html#id219609-bb"><span class="special">~</span><span class="identifier">basic_core</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>

  <span class="comment">// <a href="basic_core.html#id217875-bb">public member functions</a></span>
  <span class="keyword">bool</span> <a href="basic_core.html#id217878-bb"><span class="identifier">set_logging_enabled</span></a><span class="special">(</span><span class="keyword">bool</span> <span class="special">=</span> <span class="keyword">true</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a href="basic_core.html#id217920-bb"><span class="identifier">set_filter</span></a><span class="special">(</span><span class="identifier">filter_type</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a href="basic_core.html#id217944-bb"><span class="identifier">reset_filter</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a href="basic_core.html#id217957-bb"><span class="identifier">add_sink</span></a><span class="special">(</span><span class="identifier">shared_ptr</span><span class="special">&lt;</span> <span class="identifier">sink_type</span> <span class="special">&gt;</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a href="basic_core.html#id217577-bb"><span class="identifier">remove_sink</span></a><span class="special">(</span><span class="identifier">shared_ptr</span><span class="special">&lt;</span> <span class="identifier">sink_type</span> <span class="special">&gt;</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">std</span><span class="special">::</span><span class="identifier">pair</span><span class="special">&lt;</span> <span class="keyword">typename</span> <span class="identifier">attribute_set_type</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">,</span> <span class="keyword">bool</span> <span class="special">&gt;</span> 
  <a href="basic_core.html#id217602-bb"><span class="identifier">add_global_attribute</span></a><span class="special">(</span><span class="identifier">string_type</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">,</span> <span class="identifier">shared_ptr</span><span class="special">&lt;</span> <span class="identifier">attribute</span> <span class="special">&gt;</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a href="basic_core.html#id217644-bb"><span class="identifier">remove_global_attribute</span></a><span class="special">(</span><span class="keyword">typename</span> <span class="identifier">attribute_set_type</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">attribute_set_type</span> <a href="basic_core.html#id217679-bb"><span class="identifier">get_global_attributes</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="keyword">void</span> <a href="basic_core.html#id217691-bb"><span class="identifier">set_global_attributes</span></a><span class="special">(</span><span class="identifier">attribute_set_type</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">std</span><span class="special">::</span><span class="identifier">pair</span><span class="special">&lt;</span> <span class="keyword">typename</span> <span class="identifier">attribute_set_type</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">,</span> <span class="keyword">bool</span> <span class="special">&gt;</span> 
  <a href="basic_core.html#id219341-bb"><span class="identifier">add_thread_attribute</span></a><span class="special">(</span><span class="identifier">string_type</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">,</span> <span class="identifier">shared_ptr</span><span class="special">&lt;</span> <span class="identifier">attribute</span> <span class="special">&gt;</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a href="basic_core.html#id219389-bb"><span class="identifier">remove_thread_attribute</span></a><span class="special">(</span><span class="keyword">typename</span> <span class="identifier">attribute_set_type</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">attribute_set_type</span> <a href="basic_core.html#id219425-bb"><span class="identifier">get_thread_attributes</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="keyword">void</span> <a href="basic_core.html#id219437-bb"><span class="identifier">set_thread_attributes</span></a><span class="special">(</span><span class="identifier">attribute_set_type</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a href="basic_core.html#id219469-bb"><span class="identifier">set_exception_handler</span></a><span class="special">(</span><span class="identifier">exception_handler_type</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">record_type</span> <a href="basic_core.html#id219525-bb"><span class="identifier">open_record</span></a><span class="special">(</span><span class="identifier">attribute_set_type</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a href="basic_core.html#id219573-bb"><span class="identifier">push_record</span></a><span class="special">(</span><span class="identifier">record_type</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>

  <span class="comment">// <a href="basic_core.html#id219614-bb">public static functions</a></span>
  <span class="keyword">static</span> <span class="identifier">shared_ptr</span><span class="special">&lt;</span> <a href="basic_core.html" title="Class template basic_core">basic_core</a> <span class="special">&gt;</span> <a href="basic_core.html#id219618-bb"><span class="identifier">get</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
<span class="special">}</span><span class="special">;</span></pre></div>
<div class="refsect1" lang="en">
<a name="id613033"></a><h2>Description</h2>
<p>The logging core is used to interconnect log sources and sinks. It also provides a number of basic features, like global filtering and global and thread-specific attribute storage.</p>
<p>The logging core is a singleton. Users can acquire the core instance by calling the static method <code class="computeroutput">get</code>. </p>
<div class="refsect2" lang="en">
<a name="id613049"></a><h3>
<a name="boost.log.basic_coreconstruct-copy-destruct"></a><code class="computeroutput">basic_core</code> 
        public
       construct/copy/destruct</h3>
<div class="orderedlist"><ol type="1"><li>
<pre class="literallayout"><a name="id219609-bb"></a><span class="special">~</span><span class="identifier">basic_core</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>Destructor. Destroys the core, releases any sinks and attributes that were registered. </p>
</li></ol></div>
</div>
<div class="refsect2" lang="en">
<a name="id613106"></a><h3>
<a name="id217875-bb"></a><code class="computeroutput">basic_core</code> public member functions</h3>
<div class="orderedlist"><ol type="1">
<li>
<pre class="literallayout"><span class="keyword">bool</span> <a name="id217878-bb"></a><span class="identifier">set_logging_enabled</span><span class="special">(</span><span class="keyword">bool</span> enabled <span class="special">=</span> <span class="keyword">true</span><span class="special">)</span><span class="special">;</span></pre>
<p>The method enables or disables logging.</p>
<p>Setting this status to <code class="computeroutput">false</code> allows you to completely wipe out any logging activity, including filtering and generation of attribute values. It is useful if you want to completely disable logging in a running application. The state of logging does not alter any other properties of the logging library, such as filters or sinks, so you can enable logging with the very same settings that you had when the logging was disabled. This feature may also be useful if you want to perform major changes to logging configuration and don't want your application to block on opening or pushing a log record.</p>
<p>By default logging is enabled.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term">Parameters:</span></td>
<td><div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><code class="computeroutput">enabled</code></span></td>
<td><p>The actual flag of logging activity. </p></td>
</tr></tbody>
</table></div></td>
</tr>
<tr>
<td><span class="term">Returns:</span></td>
<td><p>The previous value of enabled/disabled logging flag </p></td>
</tr>
</tbody>
</table></div>
</li>
<li>
<pre class="literallayout"><span class="keyword">void</span> <a name="id217920-bb"></a><span class="identifier">set_filter</span><span class="special">(</span><span class="identifier">filter_type</span> <span class="keyword">const</span> <span class="special">&amp;</span> filter<span class="special">)</span><span class="special">;</span></pre>
<p>The method sets the global logging filter. The filter is applied to every log record that is processed.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term">Parameters:</span></td>
<td><div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><code class="computeroutput">filter</code></span></td>
<td><p>The filter function object to be installed. </p></td>
</tr></tbody>
</table></div></td>
</tr></tbody>
</table></div>
</li>
<li>
<pre class="literallayout"><span class="keyword">void</span> <a name="id217944-bb"></a><span class="identifier">reset_filter</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>The method removes the global logging filter. All log records are passed to sinks without global filtering applied. </p>
</li>
<li>
<pre class="literallayout"><span class="keyword">void</span> <a name="id217957-bb"></a><span class="identifier">add_sink</span><span class="special">(</span><span class="identifier">shared_ptr</span><span class="special">&lt;</span> <span class="identifier">sink_type</span> <span class="special">&gt;</span> <span class="keyword">const</span> <span class="special">&amp;</span> s<span class="special">)</span><span class="special">;</span></pre>
<p>The method adds a new sink. The sink is included into logging process immediately after being added and until being removed. No sink can be added more than once at the same time. If the sink is already registered, the call is ignored.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term">Parameters:</span></td>
<td><div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><code class="computeroutput">s</code></span></td>
<td><p>The sink to be registered. </p></td>
</tr></tbody>
</table></div></td>
</tr></tbody>
</table></div>
</li>
<li>
<pre class="literallayout"><span class="keyword">void</span> <a name="id217577-bb"></a><span class="identifier">remove_sink</span><span class="special">(</span><span class="identifier">shared_ptr</span><span class="special">&lt;</span> <span class="identifier">sink_type</span> <span class="special">&gt;</span> <span class="keyword">const</span> <span class="special">&amp;</span> s<span class="special">)</span><span class="special">;</span></pre>
<p>The method removes the sink from the output. The sink will not receive any log records after removal. The call has no effect if the sink is not registered.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term">Parameters:</span></td>
<td><div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><code class="computeroutput">s</code></span></td>
<td><p>The sink to be unregistered. </p></td>
</tr></tbody>
</table></div></td>
</tr></tbody>
</table></div>
</li>
<li>
<pre class="literallayout"><span class="identifier">std</span><span class="special">::</span><span class="identifier">pair</span><span class="special">&lt;</span> <span class="keyword">typename</span> <span class="identifier">attribute_set_type</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">,</span> <span class="keyword">bool</span> <span class="special">&gt;</span> 
<a name="id217602-bb"></a><span class="identifier">add_global_attribute</span><span class="special">(</span><span class="identifier">string_type</span> <span class="keyword">const</span> <span class="special">&amp;</span> name<span class="special">,</span> 
                     <span class="identifier">shared_ptr</span><span class="special">&lt;</span> <span class="identifier">attribute</span> <span class="special">&gt;</span> <span class="keyword">const</span> <span class="special">&amp;</span> attr<span class="special">)</span><span class="special">;</span></pre>
<p>The method adds an attribute to the global attribute set. The attribute will be implicitly added to every log record.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term">Parameters:</span></td>
<td><div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><code class="computeroutput">attr</code></span></td>
<td><p>Pointer to the attribute. Must not be NULL. </p></td>
</tr>
<tr>
<td><span class="term"><code class="computeroutput">name</code></span></td>
<td><p>The attribute name. </p></td>
</tr>
</tbody>
</table></div></td>
</tr>
<tr>
<td><span class="term">Returns:</span></td>
<td><p>A pair of values. If the second member is <code class="computeroutput">true</code>, then the attribute is added and the first member points to the attribute. Otherwise the attribute was not added and the first member points to the attribute that prevents addition. </p></td>
</tr>
</tbody>
</table></div>
</li>
<li>
<pre class="literallayout"><span class="keyword">void</span> <a name="id217644-bb"></a><span class="identifier">remove_global_attribute</span><span class="special">(</span><span class="keyword">typename</span> <span class="identifier">attribute_set_type</span><span class="special">::</span><span class="identifier">iterator</span> it<span class="special">)</span><span class="special">;</span></pre>
<p>The method removes an attribute from the global attribute set.</p>
<p>


</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term">Parameters:</span></td>
<td><div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><code class="computeroutput">it</code></span></td>
<td><p>Iterator to the previously added attribute. </p></td>
</tr></tbody>
</table></div></td>
</tr>
<tr>
<td><span class="term">Requires:</span></td>
<td><p>The attribute was added with the <code class="computeroutput">add_global_attribute</code> call. </p></td>
</tr>
<tr>
<td><span class="term">Postconditions:</span></td>
<td><p>The attribute is no longer registered as a global attribute. The iterator is invalidated after removal.</p></td>
</tr>
</tbody>
</table></div>
</li>
<li>
<pre class="literallayout"><span class="identifier">attribute_set_type</span> <a name="id217679-bb"></a><span class="identifier">get_global_attributes</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>The method returns a copy of the complete set of currently registered global attributes. </p>
</li>
<li>
<pre class="literallayout"><span class="keyword">void</span> <a name="id217691-bb"></a><span class="identifier">set_global_attributes</span><span class="special">(</span><span class="identifier">attribute_set_type</span> <span class="keyword">const</span> <span class="special">&amp;</span> attrs<span class="special">)</span><span class="special">;</span></pre>
<p>The method replaces the complete set of currently registered global attributes with the provided set.</p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../../../../../doc/src/images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>The method invalidates all iterators and references that may have been returned from the <code class="computeroutput">add_global_attribute</code> method.</p></td></tr>
</table></div>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term">Parameters:</span></td>
<td><div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><code class="computeroutput">attrs</code></span></td>
<td><p>The set of attributes to be installed. </p></td>
</tr></tbody>
</table></div></td>
</tr></tbody>
</table></div>
</li>
<li>
<pre class="literallayout"><span class="identifier">std</span><span class="special">::</span><span class="identifier">pair</span><span class="special">&lt;</span> <span class="keyword">typename</span> <span class="identifier">attribute_set_type</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">,</span> <span class="keyword">bool</span> <span class="special">&gt;</span> 
<a name="id219341-bb"></a><span class="identifier">add_thread_attribute</span><span class="special">(</span><span class="identifier">string_type</span> <span class="keyword">const</span> <span class="special">&amp;</span> name<span class="special">,</span> 
                     <span class="identifier">shared_ptr</span><span class="special">&lt;</span> <span class="identifier">attribute</span> <span class="special">&gt;</span> <span class="keyword">const</span> <span class="special">&amp;</span> attr<span class="special">)</span><span class="special">;</span></pre>
<p>The method adds an attribute to the thread-specific attribute set. The attribute will be implicitly added to every log record made in the current thread.</p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../../../../../doc/src/images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>In single-threaded build the effect is the same as adding the attribute globally. This, however, does not imply that iterators to thread-specific and global attributes are interchangable.</p></td></tr>
</table></div>
<p>


</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term">Parameters:</span></td>
<td><div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><code class="computeroutput">attr</code></span></td>
<td><p>Pointer to the attribute. Must not be NULL. </p></td>
</tr>
<tr>
<td><span class="term"><code class="computeroutput">name</code></span></td>
<td><p>The attribute name. </p></td>
</tr>
</tbody>
</table></div></td>
</tr>
<tr>
<td><span class="term">Returns:</span></td>
<td><p>A pair of values. If the second member is <code class="computeroutput">true</code>, then the attribute is added and the first member points to the attribute. Otherwise the attribute was not added and the first member points to the attribute that prevents addition. </p></td>
</tr>
</tbody>
</table></div>
</li>
<li>
<pre class="literallayout"><span class="keyword">void</span> <a name="id219389-bb"></a><span class="identifier">remove_thread_attribute</span><span class="special">(</span><span class="keyword">typename</span> <span class="identifier">attribute_set_type</span><span class="special">::</span><span class="identifier">iterator</span> it<span class="special">)</span><span class="special">;</span></pre>
<p>The method removes an attribute from the thread-specific attribute set.</p>
<p>


</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term">Parameters:</span></td>
<td><div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><code class="computeroutput">it</code></span></td>
<td><p>Iterator to the previously added attribute. </p></td>
</tr></tbody>
</table></div></td>
</tr>
<tr>
<td><span class="term">Requires:</span></td>
<td><p>The attribute was added with the <code class="computeroutput">add_thread_attribute</code> call. </p></td>
</tr>
<tr>
<td><span class="term">Postconditions:</span></td>
<td><p>The attribute is no longer registered as a thread-specific attribute. The iterator is invalidated after removal.</p></td>
</tr>
</tbody>
</table></div>
</li>
<li>
<pre class="literallayout"><span class="identifier">attribute_set_type</span> <a name="id219425-bb"></a><span class="identifier">get_thread_attributes</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>The method returns a copy of the complete set of currently registered thread-specific attributes. </p>
</li>
<li>
<pre class="literallayout"><span class="keyword">void</span> <a name="id219437-bb"></a><span class="identifier">set_thread_attributes</span><span class="special">(</span><span class="identifier">attribute_set_type</span> <span class="keyword">const</span> <span class="special">&amp;</span> attrs<span class="special">)</span><span class="special">;</span></pre>
<p>The method replaces the complete set of currently registered thread-specific attributes with the provided set.</p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../../../../../doc/src/images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>The method invalidates all iterators and references that may have been returned from the <code class="computeroutput">add_thread_attribute</code> method.</p></td></tr>
</table></div>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term">Parameters:</span></td>
<td><div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><code class="computeroutput">attrs</code></span></td>
<td><p>The set of attributes to be installed. </p></td>
</tr></tbody>
</table></div></td>
</tr></tbody>
</table></div>
</li>
<li>
<pre class="literallayout"><span class="keyword">void</span> <a name="id219469-bb"></a><span class="identifier">set_exception_handler</span><span class="special">(</span><span class="identifier">exception_handler_type</span> <span class="keyword">const</span> <span class="special">&amp;</span> handler<span class="special">)</span><span class="special">;</span></pre>
<p>The method sets exception handler function. The function will be called with no arguments in case if an exception occurs during either <code class="computeroutput">open_record</code> or <code class="computeroutput">push_record</code> method execution. Since exception handler is called from a <code class="computeroutput">catch</code> statement, the exception can be rethrown in order to determine its type.</p>
<p>By default no handler is installed, thus any exception is propagated as usual.</p>
<p><span class="bold"><strong>See Also:</strong></span></p>
<p>See also: <code class="computeroutput">utility/exception_handler.hpp</code> </p>
<p>

</p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../../../../../doc/src/images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>The exception handler can be invoked in several threads concurrently. Thread interruptions are not affected by exception handlers. </p></td></tr>
</table></div>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term">Parameters:</span></td>
<td><div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><code class="computeroutput">handler</code></span></td>
<td><p>Exception handling function</p></td>
</tr></tbody>
</table></div></td>
</tr></tbody>
</table></div>
</li>
<li>
<pre class="literallayout"><span class="identifier">record_type</span> <a name="id219525-bb"></a><span class="identifier">open_record</span><span class="special">(</span><span class="identifier">attribute_set_type</span> <span class="keyword">const</span> <span class="special">&amp;</span> source_attributes<span class="special">)</span><span class="special">;</span></pre>
<p>The method attempts to open a new record to be written. While attempting to open a log record all filtering is applied. A successfully opened record may be pushed further to sinks by calling the <code class="computeroutput">push_record</code> method or simply destroyed by destroying the returned handle.</p>
<p>More than one open records are allowed, such records exist independently. All attribute values are acquired during opening the record and do not interact between records.</p>
<p>The returned record handles may be copied, however, they must not be passed between different threads.</p>
<p>

<span class="bold"><strong>Throws:</strong></span> If an exception handler is installed, only throws if the handler throws. Otherwise may throw if one of the sinks throws, or some system resource limitation has been reached. </p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term">Parameters:</span></td>
<td><div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><code class="computeroutput">source_attributes</code></span></td>
<td><p>The set of source-specific attributes to be attached to the record to be opened. </p></td>
</tr></tbody>
</table></div></td>
</tr>
<tr>
<td><span class="term">Returns:</span></td>
<td><p>A valid log record if the record is opened, an invalid record object if not (e.g. because it didn't pass filtering).</p></td>
</tr>
</tbody>
</table></div>
</li>
<li>
<pre class="literallayout"><span class="keyword">void</span> <a name="id219573-bb"></a><span class="identifier">push_record</span><span class="special">(</span><span class="identifier">record_type</span> <span class="keyword">const</span> <span class="special">&amp;</span> rec<span class="special">)</span><span class="special">;</span></pre>
<p>The method pushes the record to sinks.</p>
<p>

<span class="bold"><strong>Throws:</strong></span> If an exception handler is installed, only throws if the handler throws. Otherwise may throw if one of the sinks throws. </p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term">Parameters:</span></td>
<td><div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><code class="computeroutput">rec</code></span></td>
<td><p>A previously successfully opened log record.</p></td>
</tr></tbody>
</table></div></td>
</tr>
<tr>
<td><span class="term">Requires:</span></td>
<td><p><code class="computeroutput">!!rec == true</code> </p></td>
</tr>
</tbody>
</table></div>
</li>
</ol></div>
</div>
<div class="refsect2" lang="en">
<a name="id614777"></a><h3>
<a name="id219614-bb"></a><code class="computeroutput">basic_core</code> public static functions</h3>
<div class="orderedlist"><ol type="1"><li>
<pre class="literallayout"><span class="keyword">static</span> <span class="identifier">shared_ptr</span><span class="special">&lt;</span> <a href="basic_core.html" title="Class template basic_core">basic_core</a> <span class="special">&gt;</span> <a name="id219618-bb"></a><span class="identifier">get</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term">Returns:</span></td>
<td><p>The method returns a pointer to the logging core singleton instance. </p></td>
</tr></tbody>
</table></div>
</li></ol></div>
</div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2007-2010 Andrey
      Semashev<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>).
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../../core_components.html"><img src="../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../core_components.html#header.boost.log.core.core_hpp"><img src="../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="../../BOOST_LOG_CORE_CORE_HPP_INCLUDED_.html"><img src="../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
